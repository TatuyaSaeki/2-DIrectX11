//===========================================================================
//! @file	light_spot.h
//! @brife	スポットライト
//===========================================================================

//===========================================================================
//! @class	SpotLight
//===========================================================================
class SpotLight : public Light
{
public:
    //-----------------------------------------------------------------------
    //!	@name 初期化
    //-----------------------------------------------------------------------
    //@{

    //! @brief コンストラクタ
    SpotLight() = default;

    //! @brief デストラクタ
    ~SpotLight() = default;

    //@}
    //-----------------------------------------------------------------------
    //!	@name	タスク
    //-----------------------------------------------------------------------
    //@{

    //-----------------------------------------------------------------------
    //! @brief初期化
    //! @param [in]   自身のインデックス番号
    //! @return true  正常終了
    //! @return false エラー終了
    //-----------------------------------------------------------------------
    bool initialize(s32 index);

    //! @brief 更新
    void update() override;

    //! @brief 描画
    void render() override;

    //! @brief 解放
    void cleanup() override;

    //! @brief ImGuiのウィンドウを表示
    void showImGuiWindow() override;

    //@}
    //-----------------------------------------------------------------------
    //!	@name	設定
    //-----------------------------------------------------------------------
    //@{

    //-----------------------------------------------------------------------
    //! @brief 減衰パラメーター設定
    //! @param [in] attenuation 減衰度
    //-----------------------------------------------------------------------
    void setAttenuation(const Vector3& attenuation);

    //-----------------------------------------------------------------------
    //!	@name	取得
    //-----------------------------------------------------------------------
    //@{

    //-----------------------------------------------------------------------
    //! @brief 減衰パラメーター取得
    //! @return 現在の減衰度
    //-----------------------------------------------------------------------
    Vector3 getAttenuation() const;

    //@}

private:
    Vector3 attenuation_  = Vector3::ZERO;   //!< ライトの減衰パラメーター(0.0, 0.0, 0.3)
    f32     tmpIntensity_ = 8.0f;
    bool    f             = true;
};